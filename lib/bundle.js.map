{"version":3,"sources":["webpack:///webpack/bootstrap c528fe72f7f725278325","webpack:///./lib/chase.js","webpack:///./lib/game.js","webpack:///./lib/dog.js","webpack:///./lib/util.js","webpack:///./lib/movingObject.js","webpack:///./lib/cat.js","webpack:///./lib/spriteUtil.js","webpack:///./lib/gameView.js","webpack:///./lib/background.js","webpack:///./lib/staticObject.js","webpack:///./lib/fight.js","webpack:///./lib/gameOver.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;ACXD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,IAAG;AACH;AACA,GAAE;AACF;AACA,IAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;;AAEA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,GAAE;AACF;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;;;;;;;AC3QA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAM;;AAEN;AACA;AACA;AACA,IAAG;;AAEH;AACA,2BAA0B,+BAA+B;AACzD;AACA;AACA;AACA;;AAEA;;;;;;;AC/CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACrDA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;AClDA;;AAEA;;AAEA,gBAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACvDA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;ACrCA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;;;;;;;AC5CA;;AAEA;;AAEA;;AAEA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c528fe72f7f725278325\n **/","var Game = require(\"./game\");\nvar GameView = require(\"./gameView\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  var canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  var ctx = canvasEl.getContext(\"2d\");\n  var game = new Game(canvasEl);\n  new GameView(game, ctx).start();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/chase.js\n ** module id = 0\n ** module chunks = 0\n **/","var Dog = require(\"./dog\");\nvar Cat = require(\"./cat\");\nvar Fight = require(\"./fight\");\nvar SpriteUtil = require(\"./spriteUtil\");\nvar Util = require(\"./util\");\nvar Background = require(\"./background\");\nvar GameOver = require(\"./gameOver\");\n\nfunction _getRandomArbitrary(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\nfunction _moveBackground(mousePos, center) {\n\tvar catDirection = Util.dirBetween([mousePos.x, mousePos.y], center),\n\t\t\tcatSpeed = Util.dist([mousePos.x, mousePos.y], center),\n\t\t\tshiftX = catDirection[0] * catSpeed * 0.01,\n\t\t\tshiftY = catDirection[1] * catSpeed * 0.01;\n\n\tBackground.updatePosition(-shiftX, -shiftY);\n}\n\nvar Game = function (canvas) {\n\tBackground.setup();\n  this.dogs  = [];\n  this.cats = [];\n\tthis.fights = [];\n\tthis.loss = false;\n\tthis.mousePos = {\n\t\tx: this.centerPosition()[0],\n\t\ty: this.centerPosition()[1]\n\t};\n  this.addCat(canvas);\n\n\t//Get the new mouse position every time the mouse moves\n\twindow.setInterval(this.addDog.bind(this, canvas), 2000);\n\t\tcanvas.addEventListener('mousemove', function(e) {\n\t\tthis.mousePos = this.getMousePos(canvas, e);\n\t}.bind(this));\n};\n\nGame.BG_COLOR = \"#000000\";\nGame.DIM_X = 1000;\nGame.DIM_Y = 600;\nGame.FPS = 32;\nGame.NUM_DOGS = 15;\n\n\nGame.prototype.add = function (object) {\n  if (object.type === \"Dog\") {\n    this.dogs.push(object);\n  } else if (object.type === \"Cat\") {\n    this.cats.push(object);\n\t} else if (object.type === \"Fight\") {\n\t\tthis.fights.push(object);\n  } else {\n    throw \"Add an unexpected object?\";\n  }\n};\n\nGame.prototype.addCat = function (canvas) {\n\n\tvar catImage = new Image();\n\tcatImage.src = \"assets/sprites/cat_1.png\";\n\n\tvar catSprite = SpriteUtil.sprite({\n\t\tcontext: canvas.getContext(\"2d\"),\n    width: 40,\n    height: 40,\n\t\tpos: this.centerPosition(),\n    image: catImage,\n\t\tticksPerFrame: 1,\n\t\tnumberOfFrames: 1\n\t});\n\n\tvar cat = new Cat({\n\t\tpos: this.centerPosition(),\n\t\tgame: this,\n\t\tsprite: catSprite\n\t});\n\n\tthis.add(cat);\n\n\treturn cat;\n};\n\nGame.prototype.addDog = function (canvas) {\n\tif (this.dogs.length < Game.NUM_DOGS) {\n\n\t\tvar dogImage = new Image();\n\t\tdogImage.src = \"assets/sprites/dog_1.png\";\n\n\t\tvar dogSprite = SpriteUtil.sprite({\n\t\t\tcontext: canvas.getContext(\"2d\"),\n\t    width: 60,\n\t    height: 60,\n\t\t\tpos: this.randomizedSpawnPos(),\n\t    image: dogImage,\n\t\t\tticksPerFrame: 1,\n\t\t\tnumberOfFrames: 1\n\t\t});\n  \tthis.add(new Dog({\n\t\t\tgame: this,\n\t\t\tsprite: dogSprite\n\t\t}));\n\t}\n};\n\nGame.prototype.addFight = function (canvas, position) {\n\n\tvar fightImage = new Image();\n\tfightImage.src = \"assets/sprites/fight_1.png\";\n\n\tvar fightSprite = SpriteUtil.sprite({\n\t\tcontext: canvas,\n    width: 60,\n    height: 60,\n\t\tpos: position,\n    image: fightImage,\n\t\tticksPerFrame: 1,\n\t\tnumberOfFrames: 1\n\t});\n\n\tvar fight = new Fight({\n\t\tgame: this,\n\t\tsprite: fightSprite\n\t});\n\n\tthis.add(fight);\n\twindow.setTimeout(this.removeFight.bind(this, fight), 5000);\n\treturn fight;\n};\n\nGame.prototype.allObjects = function () {\n  return [].concat(this.cats, this.dogs, this.fights);\n};\n\nGame.prototype.centerPosition = function () {\n\treturn [\n\t\tGame.DIM_X / 2,\n\t\tGame.DIM_Y / 2\n\t];\n};\n\nGame.prototype.checkCollisions = function () {\n  var game = this;\n\n  this.allObjects().forEach(function (obj1) {\n    game.allObjects().forEach(function (obj2) {\n      if (obj1 == obj2) {\n        // don't allow self-collision or collisions with the background\n        return;\n      }\n      if (obj1.isCollidedWith(obj2)) {\n        obj1.collideWith(obj2);\n      }\n    });\n  });\n};\n\nGame.prototype.draw = function (ctx) {\n\tif (this.loss){\n\t\tGameOver.draw(ctx);\n\t} else {\n\t  ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\t\tBackground.draw(ctx);\n\t  this.allObjects().forEach(function (object) {\n\t\t\tobject.sprite.render();\n\t  });\n\t}\n};\n\nGame.prototype.gameOver = function () {\n\tGameOver.setup();\n\tthis.loss = true;\n};\n\nGame.prototype.getMousePos = function (canvas, e) {\n\tvar rect = canvas.getBoundingClientRect();\n\treturn {\n\t\tx: e.clientX - rect.left,\n\t\ty: e.clientY - rect.top\n\t};\n};\n\nGame.prototype.moveObjects = function (delta) {\n\tvar center = this.centerPosition(),\n\t\t\tmousePos = this.mousePos;\n  this.allObjects().forEach(function (object) {\n\n\t\tif(object.type !== \"Cat\") {\n    \tobject.move(delta, mousePos, center);\n\t\t} else {\n\t\t\t//Update background related to cat's movement\n\t\t\t_moveBackground(mousePos, center);\n\t\t}\n  }.bind(this));\n};\n\nGame.prototype.randomPosition = function () {\n  return [\n    Game.DIM_X * Math.random(),\n    Game.DIM_Y * Math.random()\n  ];\n};\n\nGame.prototype.randomizedSpawnPos = function () {\n\tvar spawnDecider = Math.random();\n\tif (spawnDecider < 0.25) {\n\t  return [\n\t    _getRandomArbitrary(0, Game.DIM_X) ,\n\t    _getRandomArbitrary(Game.DIM_Y + 5, Game.DIM_Y + 10)\n\t  ];\n\t} else if (spawnDecider >= 0.25 && spawnDecider < 0.5) {\n\t\treturn [\n\t    _getRandomArbitrary(0, Game.DIM_X) ,\n\t    _getRandomArbitrary(-10, -5)\n\t  ];\n\t} else if (spawnDecider >= 0.5 && spawnDecider < 0.75) {\n\t\treturn [\n\t    _getRandomArbitrary(Game.DIM_X + 5, Game.DIM_X + 10) ,\n\t    _getRandomArbitrary(0, Game.DIM_Y)\n\t  ];\n\t} else {\n\t\treturn [\n\t    _getRandomArbitrary(-10, -5) ,\n\t    _getRandomArbitrary(0, Game.DIM_Y)\n\t  ];\n\t}\n};\n\nGame.prototype.remove = function (object) {\n\tvar idx;\n  if (object instanceof Cat) {\n\t\tthis.gameOver();\n  } else if (object instanceof Dog) {\n    idx = this.dogs.indexOf(object);\n    this.dogs.splice(idx, 1);\n\t} else if (object instanceof Fight) {\n\t\tidx = this.fights.indexOf(object);\n\t\tthis.fights.splice(idx, 1);\n  } else {\n    throw \"Not an expected object to remove\";\n  }\n};\n\nGame.prototype.removeFight = function (object) {\n\tthis.remove(object);\n};\n\nGame.prototype.rotateObjects = function () {\n\tthis.allObjects().forEach(function (object) {\n\t\tif (object instanceof Cat) {\n\t    object.rotate(this.mousePos);\n\t\t} else if (object instanceof Dog) {\n\t\t\tobject.rotate(this.centerPosition());\n\t\t}\n  }.bind(this));\n};\n\nGame.prototype.step = function (delta) {\n  this.moveObjects(delta);\n\tthis.rotateObjects();\n  this.checkCollisions();\n};\n\n\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","var Util = require(\"./util\");\nvar MovingObject = require(\"./movingObject\");\nvar Cat = require(\"./cat\");\n\nvar DEFAULTS = {\n\tCOLOR: \"#505050\",\n\tRADIUS: 25,\n};\n\nvar Dog = function (options) {\n\toptions = options || {};\n  options.color = DEFAULTS.COLOR;\n  options.radius = DEFAULTS.RADIUS;\n  options.vel = options.vel || [0, 0];\n\toptions.sprite = options.sprite || {};\n\n  MovingObject.call(this, options);\n};\n\n\nUtil.inherits(Dog, MovingObject);\n\nDog.prototype.type = \"Dog\";\n\nDog.prototype.collideWith = function (otherObject) {\n  if (otherObject.type === \"Cat\") {\n    otherObject.remove();\n  } else if (otherObject.type === \"Dog\") {\n\t\tthis.game.addFight(this.sprite.context, this.sprite.pos);\n\t\totherObject.remove();\n\t\tthis.remove();\n\t}\n};\n\nDog.prototype.rotate = function (centerPos) {\n\tvar dir = Util.dirBetween(centerPos, this.sprite.pos);\n\n\tvar angle = Math.atan2(dir[1], dir[0]);\n\tthis.sprite.angle = angle - Math.PI / 2;\n};\n\nmodule.exports = Dog;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/dog.js\n ** module id = 2\n ** module chunks = 0\n **/","var Util = {\n  // Normalize the length of the vector to 1, maintaining direction.\n  dir: function (vec) {\n    var norm = Util.norm(vec);\n\t\tif (norm) {\n\t    return Util.scale(vec, 1 / norm);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n  },\n\n  // Find distance between two points.\n  dist: function (pos1, pos2) {\n    return Math.sqrt(\n      Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n  },\n\n\t// Find the direction from one object to another.\n\tdirBetween: function (startPos, destPos) {\n\t\tvar vec = [(destPos[0] - startPos[0]), (destPos[1] - startPos[1])];\n\t\treturn Util.dir(vec);\n\t},\n\n  // Find the length of the vector.\n  norm: function (vec) {\n    return Util.dist([0, 0], vec);\n  },\n\t//\n  // // Return a randomly oriented vector with the given length.\n  // randomVec : function (length) {\n  //   var deg = 2 * Math.PI * Math.random();\n  //   return Util.scale([Math.sin(deg), Math.cos(deg)], length);\n  // },\n\n  // Scale the length of a vector by the given amount.\n  scale: function (vec, m) {\n    return [vec[0] * m, vec[1] * m];\n  },\n\n  inherits: function (ChildClass, BaseClass) {\n    function Surrogate() { this.constructor = ChildClass; }\n    Surrogate.prototype = BaseClass.prototype;\n    ChildClass.prototype = new Surrogate();\n  }\n};\n\nmodule.exports = Util;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/util.js\n ** module id = 3\n ** module chunks = 0\n **/","var Util = require(\"./util\");\n\nvar MovingObject = function (options) {\n  this.vel = options.vel;\n  this.radius = options.radius;\n  this.color = options.color;\n\tthis.sprite = options.sprite;\n  this.game = options.game;\n};\n\nMovingObject.TURN_RADIUS = 3;\nMovingObject.CAT_SPEED = 0.005;\nMovingObject.DOG_SPEED = 0.01;\n\nMovingObject.prototype.collideWith = function (otherObject) {\n  ; // default do nothing\n};\n\nMovingObject.prototype.isCollidedWith = function (otherObject) {\n  var centerDist = Util.dist(this.sprite.pos, otherObject.sprite.pos);\n  return centerDist < (this.radius + otherObject.radius);\n};\n\nvar NORMAL_FRAME_TIME_DELTA = 1000/60;\nMovingObject.prototype.move = function (timeDelta, mousePos, center) {\n\n\t// Get the direction and difference between the center as a way to make it\n\t// Move in relation to how the cat is \"moving\"\n\tvar dirBetween = Util.dirBetween([mousePos.x, mousePos.y], center),\n\t\t\tdirBetweenScale = Util.dist([mousePos.x, mousePos.y], center),\n\t\t\t// Always attempt to get to the center\n\t\t\tmoveVel = Util.dirBetween(this.sprite.pos, center);\n\n\t// Force moving objects to have some inertial in how fast they can adjust\n\t// their movement\n\tthis.vel[0] = this.vel[0] + (moveVel[0] * MovingObject.TURN_RADIUS);\n\tthis.vel[1] = this.vel[1] + (moveVel[1] * MovingObject.TURN_RADIUS);\n\n  var velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n      offsetX = this.vel[0] * velocityScale * MovingObject.DOG_SPEED,\n      offsetY = this.vel[1] * velocityScale * MovingObject.DOG_SPEED,\n\t\t\tplayerShiftX = dirBetween[0] * dirBetweenScale * MovingObject.CAT_SPEED,\n\t\t\tplayerShiftY = dirBetween[1] * dirBetweenScale * MovingObject.CAT_SPEED;\n\n  this.sprite.pos[0] = this.sprite.pos[0] + offsetX + playerShiftX;\n\tthis.sprite.pos[1] = this.sprite.pos[1] + offsetY + playerShiftY;\n\n};\n\nMovingObject.prototype.remove = function () {\n  this.game.remove(this);\n};\n\nmodule.exports = MovingObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/movingObject.js\n ** module id = 4\n ** module chunks = 0\n **/","var MovingObject = require(\"./movingObject\");\nvar Util = require(\"./util\");\nvar spriteUtil = require(\"./spriteUtil\");\n\nfunction randomColor() {\n  var hexDigits = \"0123456789ABCDEF\";\n\n  var color = \"#\";\n  for (var i = 0; i < 3; i ++) {\n    color += hexDigits[Math.floor((Math.random() * 16))];\n  }\n\n  return color;\n}\n\nvar Cat = function (options) {\n  options.radius = Cat.RADIUS;\n  options.vel = options.vel || [0, 0];\n  options.color = options.color || randomColor();\n\toptions.sprite = options.sprite || {};\n  MovingObject.call(this, options);\n};\n\nUtil.inherits(Cat, MovingObject);\n\nCat.prototype.type = \"Cat\";\n\nCat.RADIUS = 15;\n\nCat.prototype.getMoveVel = function (center, mousePos) {\n\t//duck typing\n};\n\nCat.prototype.collideWith = function () {\n\t//duck typing\n};\n\nCat.prototype.rotate = function (mousePos) {\n\tvar dir = Util.dirBetween([mousePos.x, mousePos.y], this.sprite.pos);\n\tvar angle = Math.atan2(dir[1], dir[0]);\n\tthis.sprite.angle = angle - Math.PI / 2;\n};\n\nCat.prototype.relocate = function () {\n  this.pos = this.game.randomPosition();\n  this.vel = [0, 0];\n};\n\nCat.prototype.type = \"Cat\";\n\nmodule.exports = Cat;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/cat.js\n ** module id = 5\n ** module chunks = 0\n **/","var spriteUtil = {\n\n\tsprite: function (options) {\n\n\t\tvar that = {},\n\t\t\tframeIndex = 0,\n\t\t\ttickCount = 0,\n\t\t\tticksPerFrame = options.ticksPerFrame || 0,\n\t\t\tnumberOfFrames = options.numberOfFrames || 1;\n\n\t\tthat.context = options.context;\n\t\tthat.width = options.width;\n\t\tthat.height = options.height;\n\t\tthat.image = options.image;\n\t\tthat.scaleRatio = 1;\n\t\tthat.pos = options.pos;\n\t\tthat.angle = 0;\n\n\t\tthat.update = function () {\n\t\t\ttickCount += 1;\n\t\t\tif (tickCount > ticksPerFrame) {\n\t\t\t\ttickCount = 0;\n  \t\t\t// If the current frame index is in range\n\t\t\t\tif (frameIndex < numberOfFrames - 1) {\n\t\t\t\t\tframeIndex += 1;\n\t\t\t\t} else {\n  \t\t\t\tframeIndex = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tthat.render = function () {\n\n\t\t  // Draw the animation\n\t\t\tthat.context.save();\n\t\t\tthat.context.translate(that.pos[0], that.pos[1]);\n\t\t\tthat.context.rotate(that.angle);\n\t\t\tthat.context.translate(-that.width / 2, -that.height / 2);\n\t\t  that.context.drawImage(\n\t\t    that.image,\n\t\t    frameIndex * that.width / numberOfFrames,\n\t\t    0,\n\t\t    that.width / numberOfFrames,\n\t\t    that.height,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t    that.width / numberOfFrames * that.scaleRatio,\n\t\t    that.height * that.scaleRatio);\n\t\t\t that.context.restore();\n\t\t};\n\n\t\treturn that;\n\t}\n};\n\nmodule.exports = spriteUtil;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/spriteUtil.js\n ** module id = 6\n ** module chunks = 0\n **/","var GameView = function (game, ctx) {\n  this.ctx = ctx;\n  this.game = game;\n};\n\n\nGameView.prototype.animate = function(time){\n\tvar timeDelta = time - this.lastTime;\n\n\tthis.game.step(timeDelta);\n\n\tthis.game.draw(this.ctx);\n\tthis.lastTime = time;\n\n\t//every call to animate requests causes another call to animate\n\trequestAnimationFrame(this.animate.bind(this));\n};\n\nGameView.prototype.end = function () {\n\tcancelAnimationFrame(this.animationFrameToken);\n};\n\nGameView.prototype.start = function () {\n\tthis.lastTime = 0;\n\t//start the animation\n\tthis.animationFrameToken = requestAnimationFrame(this.animate.bind(this));\n};\n\nmodule.exports = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/gameView.js\n ** module id = 7\n ** module chunks = 0\n **/","var Util = require(\"./util\");\n\nvar Background = {\n\tsetup: function (options) {\n\t\toptions = options || {};\n\t\tthis.x = options.x || 0;\n\t\tthis.y = options.x || 0;\n\n\t\tvar backgroundImage = new Image();\n\t\tbackgroundImage.src = \"assets/sprites/background.png\";\n\t\tthis.image = backgroundImage;\n\t},\n\n\tupdatePosition: function (xPos, yPos) {\n\t\tthis.x = xPos ? this.x + xPos : this.x;\n\t\tthis.y = yPos ? this.y + yPos : this.y;\n\t\tthis.x = (this.x + 400) % 400;\n\t\tthis.y = (this.y + 400) % 400;\n\t},\n\n\tdraw: function (context) {\n\n\t\tcontext.drawImage(\n\t\t\tthis.image,\n\t\t\tthis.x,\n\t\t\tthis.y,\n\t\t\t1000,\n\t\t\t600,\n\t\t\t0,\n\t\t\t0,\n\t\t\t1000,\n\t\t\t600\n\t\t);\n\t}\n};\n\n\nmodule.exports = Background;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/background.js\n ** module id = 8\n ** module chunks = 0\n **/","var Util = require(\"./util\");\n\nvar StaticObject = function (options) {\n  this.radius = options.radius;\n\tthis.sprite = options.sprite;\n  this.game = options.game;\n};\n\n\nStaticObject.prototype.collideWith = function (otherObject) {\n\t// default do nothing\n};\n\n\nStaticObject.prototype.isCollidedWith = function (otherObject) {\n  var centerDist = Util.dist(this.sprite.pos, otherObject.sprite.pos);\n  return centerDist < (this.radius + otherObject.radius);\n};\n\nvar NORMAL_FRAME_TIME_DELTA = 1000/60;\nStaticObject.prototype.move = function (timeDelta, mousePos, center) {\n\n\tvar catDirection = Util.dirBetween([mousePos.x, mousePos.y], center),\n\t\t\tcatSpeed = Util.dist([mousePos.x, mousePos.y], center),\n\t\t\tshiftX = catDirection[0] * catSpeed * 0.01,\n\t\t\tshiftY = catDirection[1] * catSpeed * 0.01;\n\n\tthis.updatePosition([-shiftX, -shiftY]);\n};\n\nStaticObject.prototype.updatePosition = function (x, y) {\n\t//Do nothing\n};\n\nStaticObject.prototype.remove = function () {\n  //Do nothing\n};\n\nmodule.exports = StaticObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/staticObject.js\n ** module id = 9\n ** module chunks = 0\n **/","var Util = require(\"./util\");\nvar StaticObject = require(\"./staticObject\");\nvar Cat = require(\"./cat\");\nvar Dog = require(\"./dog\");\n\nvar DEFAULTS = {\n\tRADIUS: 25\n};\n\nvar Fight = function (options) {\n\toptions = options || {};\n  options.radius = options.radius || DEFAULTS.RADIUS;\n  options.vel = [0, 0];\n\toptions.sprite = options.sprite || {};\n\n  StaticObject.call(this, options);\n};\n\n\nUtil.inherits(Fight, StaticObject);\n\n\nFight.prototype.type = \"Fight\";\n\nFight.prototype.updatePosition = function (pos) {\n\tthis.sprite.pos[0] = pos[0] ? this.sprite.pos[0] - pos[0] : this.sprite.pos[0];\n\tthis.sprite.pos[1] = pos[1] ? this.sprite.pos[1] - pos[1] : this.sprite.pos[1];\n};\n\nFight.prototype.collideWith = function (otherObject) {\n  if (otherObject.type === \"Cat\") {\n    otherObject.remove();\n  } else if (otherObject.type === \"Dog\") {\n\t\totherObject.remove();\n\t\tthis.sprite.scaleRatio += 0.2;\n\t\tthis.radius = (this.sprite.width - 5) * this.sprite.scaleRatio / 2;\n\t}\n};\n\nFight.prototype.rotate = function (centerPos) {\n\t//Duck typing\n};\n\n\nmodule.exports = Fight;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/fight.js\n ** module id = 10\n ** module chunks = 0\n **/","var Util = require(\"./util\");\n\nvar GameOver = {\n\n\t_playAgain: function () {\n\n\t},\n\t\n\tdraw: function (context) {\n\n\t\tcontext.drawImage(\n\t\t\tthis.image,\n\t\t\t0,\n\t\t\t0,\n\t\t\t1000,\n\t\t\t600\n\t\t);\n\t},\n\n\tsetup: function (options) {\n\t\toptions = options || {};\n\t\tthis.x = options.x || 0;\n\t\tthis.y = options.x || 0;\n\n\t\tvar gameOverImage = new Image();\n\t\tgameOverImage.src = \"assets/sprites/game_over.png\";\n\t\tthis.image = gameOverImage;\n\t}\n};\n\n\nmodule.exports = GameOver;\n// ctx.drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/gameOver.js\n ** module id = 12\n ** module chunks = 0\n **/"],"sourceRoot":""}