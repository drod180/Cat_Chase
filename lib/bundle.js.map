{"version":3,"sources":["webpack:///webpack/bootstrap 187182f812b4047439cc","webpack:///./lib/chase.js","webpack:///./lib/game.js","webpack:///./lib/dog.js","webpack:///./lib/util.js","webpack:///./lib/movingObject.js","webpack:///./lib/cat.js","webpack:///./lib/gameView.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAC;;;;;;;ACXD;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;;AAEA;AACA;AACA,sBAAqB,aAAa;AAClC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;;;;;;;ACxKA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,GAAE;;AAEF;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;;AAEH;AACA,2BAA0B,+BAA+B;AACzD;AACA;AACA;AACA;;AAEA;;;;;;;AC/CA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAG;AACH;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACvEA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;AC3CA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 187182f812b4047439cc\n **/","var Game = require(\"./game\");\nvar GameView = require(\"./gameView\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  var canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  var ctx = canvasEl.getContext(\"2d\");\n  var game = new Game(canvasEl);\n  new GameView(game, ctx).start();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/chase.js\n ** module id = 0\n ** module chunks = 0\n **/","var Dog = require(\"./dog\");\nvar Cat = require(\"./cat\");\n\n\nfunction _getRandomArbitrary(min, max) {\n  return Math.random() * (max - min) + min;\n}\n\n\nvar Game = function (canvas) {\n  this.dogs  = [];\n  this.cats = [];\n\tthis.mousePos = {\n\t\tx: this.centerPosition()[0],\n\t\ty: this.centerPosition()[1]\n\t};\n  this.addCat();\n\n\t//Get the new mouse position every time the mouse moves\n\tsetInterval(this.addDog.bind(this), 3000);\n\t\tcanvas.addEventListener('mousemove', function(e) {\n\t\tthis.mousePos = this.getMousePos(canvas, e);\n\t}.bind(this));\n};\n\nGame.BG_COLOR = \"#000000\";\nGame.DIM_X = 1000;\nGame.DIM_Y = 600;\nGame.FPS = 32;\nGame.NUM_DOGS = 10;\n\n\nGame.prototype.add = function (object) {\n  if (object.type === \"Dog\") {\n    this.dogs.push(object);\n  } else if (object.type === \"Cat\") {\n    this.cats.push(object);\n  } else {\n    throw \"Add an unexpected object?\";\n  }\n};\n\nGame.prototype.addCat = function () {\n\tvar cat = new Cat({\n\t\tpos: this.centerPosition(),\n\t\tgame: this\n\t});\n\n\tthis.add(cat);\n\n\treturn cat;\n};\n\nGame.prototype.addDog = function () {\n\tif (this.dogs.length < Game.NUM_DOGS) {\n  \tthis.add(new Dog({ game: this }));\n\t}\n};\n\nGame.prototype.allObjects = function () {\n  return [].concat(this.cats, this.dogs);\n};\n\nGame.prototype.centerPosition = function () {\n\treturn [\n\t\tGame.DIM_X / 2,\n\t\tGame.DIM_Y / 2\n\t];\n};\n\nGame.prototype.checkCollisions = function () {\n  var game = this;\n\n  this.allObjects().forEach(function (obj1) {\n    game.allObjects().forEach(function (obj2) {\n      if (obj1 == obj2) {\n        // don't allow self-collision\n        return;\n      }\n      if (obj1.isCollidedWith(obj2)) {\n        obj1.collideWith(obj2);\n      }\n    });\n  });\n};\n\nGame.prototype.draw = function (ctx) {\n  ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n  ctx.fillStyle = Game.BG_COLOR;\n  ctx.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\n\n  this.allObjects().forEach(function (object) {\n    object.draw(ctx);\n  });\n};\n\nGame.prototype.isOutOfBounds = function (pos) {\n  return (pos[0] < 0) || (pos[1] < 0) ||\n    (pos[0] > Game.DIM_X) || (pos[1] > Game.DIM_Y);\n};\n\nGame.prototype.getMousePos = function (canvas, e) {\n\tvar rect = canvas.getBoundingClientRect();\n\treturn {\n\t\tx: e.clientX - rect.left,\n\t\ty: e.clientY - rect.top\n\t};\n};\n\nGame.prototype.moveObjects = function (delta) {\n\tvar mousePos = this.mousePos;\n  this.allObjects().forEach(function (object) {\n\t\tif(object.type !== \"Cat\") {\n    \tobject.move(delta, mousePos, this.centerPosition());\n\t\t}\n  }.bind(this));\n};\n\nGame.prototype.randomPosition = function () {\n  return [\n    Game.DIM_X * Math.random(),\n    Game.DIM_Y * Math.random()\n  ];\n};\n\nGame.prototype.randomizedSpawnPos = function () {\n\tvar spawnDecider = Math.random();\n\tif (spawnDecider < 0.25) {\n\t  return [\n\t    _getRandomArbitrary(0, Game.DIM_X) ,\n\t    _getRandomArbitrary(Game.DIM_Y + 5, Game.DIM_Y + 10)\n\t  ];\n\t} else if (spawnDecider >= 0.25 && spawnDecider < 0.5) {\n\t\treturn [\n\t    _getRandomArbitrary(0, Game.DIM_X) ,\n\t    _getRandomArbitrary(-10, -5)\n\t  ];\n\t} else if (spawnDecider >= 0.5 && spawnDecider < 0.75) {\n\t\treturn [\n\t    _getRandomArbitrary(Game.DIM_X + 5, Game.DIM_X + 10) ,\n\t    _getRandomArbitrary(0, Game.DIM_Y)\n\t  ];\n\t} else {\n\t\treturn [\n\t    _getRandomArbitrary(-10, -5) ,\n\t    _getRandomArbitrary(0, Game.DIM_Y)\n\t  ];\n\t}\n};\n\nGame.prototype.remove = function (object) {\n  if (object instanceof Cat) {\n    console.log(\"GAME OVER\");\n  } else if (object instanceof Dog) {\n    var idx = this.dogs.indexOf(object);\n    this.dogs.splice(idx, 1);\n  } else {\n    throw \"Not an expected object to remove\";\n  }\n};\n\nGame.prototype.step = function (delta) {\n  this.moveObjects(delta);\n  this.checkCollisions();\n};\n\n\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","var Util = require(\"./util\");\nvar MovingObject = require(\"./movingObject\");\nvar Cat = require(\"./cat\");\n\nvar DEFAULTS = {\n\tCOLOR: \"#505050\",\n\tRADIUS: 25,\n};\n\nvar Dog = function (options) {\n\toptions = options || {};\n  options.color = DEFAULTS.COLOR;\n  options.pos = options.pos || options.game.randomizedSpawnPos();\n  options.radius = DEFAULTS.RADIUS;\n  options.vel = options.vel || [0, 0];\n\n  MovingObject.call(this, options);\n};\n\n\nUtil.inherits(Dog, MovingObject);\n\nDog.prototype.type = \"Dog\";\n\nDog.prototype.collideWith = function (otherObject) {\n  if (otherObject.type === \"Cat\") {\n    otherObject.remove();\n  } else if (otherObject.type === \"Dog\") {\n\t\totherObject.remove();\n\t\tthis.remove();\n\t}\n};\n\nmodule.exports = Dog;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/dog.js\n ** module id = 2\n ** module chunks = 0\n **/","var Util = {\n  // Normalize the length of the vector to 1, maintaining direction.\n  dir: function (vec) {\n    var norm = Util.norm(vec);\n\t\tif (norm) {\n\t    return Util.scale(vec, 1 / norm);\n\t\t} else {\n\t\t\treturn 0;\n\t\t}\n  },\n\n  // Find distance between two points.\n  dist: function (pos1, pos2) {\n    return Math.sqrt(\n      Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n  },\n\n\t// Find the direction from one object to another.\n\tdirBetween: function (startPos, destPos) {\n\t\tvar vec = [(destPos[0] - startPos[0]), (destPos[1] - startPos[1])];\n\t\treturn Util.dir(vec);\n\t},\n\n  // Find the length of the vector.\n  norm: function (vec) {\n    return Util.dist([0, 0], vec);\n  },\n\n  // Return a randomly oriented vector with the given length.\n  randomVec : function (length) {\n    var deg = 2 * Math.PI * Math.random();\n    return Util.scale([Math.sin(deg), Math.cos(deg)], length);\n  },\n\n  // Scale the length of a vector by the given amount.\n  scale: function (vec, m) {\n    return [vec[0] * m, vec[1] * m];\n  },\n\n  inherits: function (ChildClass, BaseClass) {\n    function Surrogate() { this.constructor = ChildClass; }\n    Surrogate.prototype = BaseClass.prototype;\n    ChildClass.prototype = new Surrogate();\n  }\n};\n\nmodule.exports = Util;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/util.js\n ** module id = 3\n ** module chunks = 0\n **/","var Util = require(\"./util\");\n\n\nvar MovingObject = function (options) {\n  this.pos = options.pos;\n  this.vel = options.vel;\n  this.radius = options.radius;\n  this.color = options.color;\n  this.game = options.game;\n};\n\nMovingObject.TURN_RADIUS = 3;\nMovingObject.CAT_SPEED = 0.005;\nMovingObject.DOG_SPEED = 0.01;\n\nMovingObject.prototype.collideWith = function (otherObject) {\n  ; // default do nothing\n};\n\n\nMovingObject.prototype.draw = function (ctx) {\n  ctx.fillStyle = this.color;\n\n  ctx.beginPath();\n  ctx.arc(\n    this.pos[0], this.pos[1], this.radius, 0, 2 * Math.PI, true\n  );\n  ctx.fill();\n};\n\nMovingObject.prototype.isCollidedWith = function (otherObject) {\n  var centerDist = Util.dist(this.pos, otherObject.pos);\n  return centerDist < (this.radius + otherObject.radius);\n};\n\nvar NORMAL_FRAME_TIME_DELTA = 1000/60;\nMovingObject.prototype.move = function (timeDelta, mousePos, center) {\n  //timeDelta is number of milliseconds since last move\n  //if the computer is busy the time delta will be larger\n  //in this case the MovingObject should move farther in this frame\n  //velocity of object is how far it should move in 1/60th of a second\n\n\t// Get the direction and difference between the center as a way to make it\n\t// Move in relation to how the cat is \"moving\"\n\tvar dirBetween = Util.dirBetween([mousePos.x, mousePos.y], center);\n\tvar dirBetweenScale = Util.dist([mousePos.x, mousePos.y], center);\n\n\t// Always attempt to get to the center\n\tvar moveVel = Util.dirBetween(this.pos, center);\n\n\tthis.vel[0] = this.vel[0] + (moveVel[0] * MovingObject.TURN_RADIUS);\n\tthis.vel[1] = this.vel[1] + (moveVel[1] * MovingObject.TURN_RADIUS);\n\n  var velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n      offsetX = this.vel[0] * velocityScale * MovingObject.DOG_SPEED,\n      offsetY = this.vel[1] * velocityScale * MovingObject.DOG_SPEED;\n\n\tvar playerShiftX = dirBetween[0] * dirBetweenScale * MovingObject.CAT_SPEED;\n\tvar playerShiftY = dirBetween[1] * dirBetweenScale * MovingObject.CAT_SPEED;\n\n  this.pos = [\n\t\tthis.pos[0] + offsetX + playerShiftX,\n\t\tthis.pos[1] + offsetY + playerShiftY\n\t];\n\n};\n\nMovingObject.prototype.remove = function () {\n  this.game.remove(this);\n};\n\nmodule.exports = MovingObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/movingObject.js\n ** module id = 4\n ** module chunks = 0\n **/","var MovingObject = require(\"./movingObject\");\nvar Util = require(\"./util\");\n\nfunction randomColor() {\n  var hexDigits = \"0123456789ABCDEF\";\n\n  var color = \"#\";\n  for (var i = 0; i < 3; i ++) {\n    color += hexDigits[Math.floor((Math.random() * 16))];\n  }\n\n  return color;\n}\n\nvar Cat = function (options) {\n  options.radius = Cat.RADIUS;\n  options.vel = options.vel || [0, 0];\n  options.color = options.color || randomColor();\n\n  MovingObject.call(this, options);\n};\n\nCat.prototype.type = \"Cat\";\n\nCat.RADIUS = 15;\n\nCat.prototype.getMoveVel = function (center, mousePos) {\n\t//duck typing\n};\n\nCat.prototype.collideWith = function () {\n\t//duck typing\n};\n\nCat.prototype.relocate = function () {\n  this.pos = this.game.randomPosition();\n  this.vel = [0, 0];\n};\n\nUtil.inherits(Cat, MovingObject);\n\nCat.prototype.type = \"Cat\";\n\nmodule.exports = Cat;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/cat.js\n ** module id = 5\n ** module chunks = 0\n **/","var GameView = function (game, ctx) {\n  this.ctx = ctx;\n  this.game = game;\n};\n\n\nGameView.prototype.start = function () {\n  this.lastTime = 0;\n  //start the animation\n  requestAnimationFrame(this.animate.bind(this));\n};\n\nGameView.prototype.animate = function(time){\n  var timeDelta = time - this.lastTime;\n\n  this.game.step(timeDelta);\n  this.game.draw(this.ctx);\n  this.lastTime = time;\n\n  //every call to animate requests causes another call to animate\n  requestAnimationFrame(this.animate.bind(this));\n};\n\nmodule.exports = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/gameView.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}